<!-- The overlay -->
<div id="myNav" class="overlay">
	<!-- Button to close the overlay navigation -->
	<!--<a href="javascript:void(0)" class="closebtn" ng-click="vm.closeOverlay()">&times;</a>-->
	<!-- Overlay content -->
	<div class="overlay-content">
		Veuillez patienter pendant l'enregistrement
		<div class="sk-spinner sk-spinner-three-bounce-white">
			<div class="sk-bounce1"></div>
			<div class="sk-bounce2"></div>
			<div class="sk-bounce3"></div>
		</div>
	</div>
</div>

<form name="userForm" ng-submit="vm.submitForm(userForm.$valid)" novalidate>
  <div class="row border-bottom white-bg page-heading">
    <div class="col-lg-9">
      <h2>
        Modification utilisateur
      </h2>
      <ol class="breadcrumb">
        <li>
          <a ui-sref="index.sales">{{ 'BRAND_HOME' | translate }}</a>
        </li>
        <li>
          <a ui-sref="index.admin">Administration</a>
        </li>
        <li class="active">
          <strong>Utilisateur</strong>
        </li>
      </ol>
    </div>
    <div class="col-lg-3">
      <div class="title-action">
        <button type="submit" class="btn btn-primary btn-outline" ng-disabled="userForm.$invalid">{{ 'BRAND_SAVEMODIF' | translate }}</button>
      </div>
    </div>
  </div>
  <div class="wrapper-content animated fadeInRight">
    <div class="row">
      <div class="col-lg-12">
        <div class="tabs-container">
          <uib-tabset>
            <uib-tab heading="Commandes">
              <div class="panel-body">
                <table class="footable table table-stripped toggle-arrow-tiny" data-page-size="15">
                  <thead>
                    <tr>
                      <th data-toggle="true">Id</th>
                      <th data-hide="phone">Statut</th>
                      <th data-hide="phone">Note</th>
                      <th data-hide="phone">Total</th>
                      <th data-hide="all"></th>
                      <th class="text-right" data-sort-ignore="true">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="order in vm.profile.orders track by $index">
                      <td>{{order.id}}</td>
                      <td>{{order.status}}</td>
                      <td>{{order.note}}</td>
                      <td>{{order.total}}</td>
                      <td>
                        <table class="footable table">
                          <thead>
                            <tr>
                              <th data-toggle="true">Nom produit</th>
                              <th>Magasin</th>
                              <th>Nb à envoyer</th>
                              <th>Nb produits dans la box</th>
                              <th>Numéro de la box</th>
                              <th>Couleur de la box</th>
                              <th>{{order.items[0].meta[0].label}}</th>
                              <th>{{order.items[0].meta[1].label}}</th>
                              <th data-hide="phone">Prix</th>
                              <th data-hide="phone">Quantité</th>
                              <th data-hide="phone">Total</th>
                            </tr>
                          </thead>
                          <tr ng-repeat="item in order.items">
                            <td>{{item.name}}</td>
                            <td>
                              <ui-select ng-model="item.outlet" title="Magasin">
                                <ui-select-match placeholder="Magasin">{{$select.selected.name}}</ui-select-match>
                                <ui-select-choices repeat="outlet.name as outlet in vm.outlets">
                                  <div ng-bind-html="outlet.name"></div>
                                </ui-select-choices>
                              </ui-select>
                            </td>
                            <td><input type="text" touch-spin spin-options="vm.spinOption" ng-model="item.toSendCountProduct"
                                ng-change="vm.countChanged()"></td>
                            <td><input type="text" touch-spin spin-options="vm.spinOption" ng-model="item.inBoxCountProduct"></td>
                            <td><input type="text" touch-spin spin-options="vm.spinOption" ng-model="item.boxNumber"></td>
                            <td>
                              <ui-select ng-model="item.boxColor" title="Couleur de la box">
                                <ui-select-match placeholder="Couleur de la box">{{$select.selected.$value}}</ui-select-match>
                                <ui-select-choices repeat="color.$value as color in vm.boxColors">
                                  <div ng-bind-html="color.$value"></div>
                                </ui-select-choices>
                              </ui-select>
                            </td>
                            <td>{{item.meta[0].value}}</td>
                             <td><input type="text" touch-spin spin-options="vm.spinOption2" ng-model="item.meta[1].value"></td>
                            <td>{{item.price}}</td>
                            <td>{{item.quantity}}</td>
                            <td>{{item.total}}</td>
                          </tr>
                        </table>
                      </td>
                    </tr>
                  </tbody>
                  <tfoot>
                    <tr>
                      <td colspan="6" align="right">
                        <strong>Total à envoyer : </strong>{{vm.profile.totalToSend}}
                      </td>
                    </tr>
                  </tfoot>
                </table>
              </div>
            </uib-tab>
            <uib-tab heading="Informations">
              <div class="panel-body">
                <div class="form-horizontal">
                  <div class="form-group">
                    <label class="col-sm-1 control-label">{{ 'BRAND_LABELNAME' | translate }}</label>
                    <div class="col-sm-3">
                      <input type="text" name="brandName" class="form-control" ng-model="vm.profile.brandName" uib-tooltip="{{ 'BRAND_TOOLTIPBRAND' | translate }}"
                        tooltip-placement="top">
                    </div>
                    <label class="col-sm-1 control-label">{{ 'BRAND_LABELURL' | translate }}</label>
                    <div class="col-sm-3">
                      <input http-prefix type="url" name="websiteUrl" class="form-control" ng-model="vm.profile.websiteUrl" placeholder="{{ 'BRAND_PLACEHOLDERWEBSITE' | translate }}">
                    </div>
                    <label class="col-sm-1 control-label">{{ 'BRAND_LABELURLVIDEO' | translate }}</label>
                    <div class="col-sm-3">
                      <input type="url" class="form-control" ng-model="vm.profile.videoUrl" tooltip-placement="left" uib-tooltip="{{ 'BRAND_TOOLTIPMOVIE' | translate }}"
                        placeholder="{{ 'BRAND_PLACEHOLDERMOVIE' | translate }}">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-md-1 control-label" ng-bind-html="'BRAND_DESCRIPTIONLABEL' | translate">
                </label>
                    <div class="col-md-5">
                      <text-angular name="brandDescription" ng-model="vm.profile.brandDescription" ta-maxlength="1337" uib-tooltip="{{ 'BRAND_TOOLTIPDESCRIPTION' | translate }}"
                        tooltip-placement="top"></text-angular>
                    </div>
                    <label class="col-md-1 control-label">{{ 'BRAND_CREATORDESCRIPTION' | translate }}</label>
                    <div class=" col-md-5">
                      <text-angular name="creatorDescription" ng-model="vm.profile.creatorDescription" uib-tooltip="{{ 'BRAND_TOOLTIPCREATOR' | translate }}"
                        tooltip-placement="top"></text-angular>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-md-1 control-label">{{ 'BRAND_LABELLABEL' | translate }}</label>
                    <div class="col-md-5">
                      <select multiple chosen class="col-md-6 chosen-select" ng-model="vm.profile.brandLabels" data-placeholder-text-single="'Insérez un ou plusieurs labels liés à vos produits.'">
                    <option ng-repeat="label in vm.labels" ng-value="label.$value">{{label.$value}}</option>
                  </select>
                    </div>
                  </div>
                </div>
              </div>
            </uib-tab>
          </uib-tabset>
        </div>
      </div>
    </div>
  </div>
</form>
